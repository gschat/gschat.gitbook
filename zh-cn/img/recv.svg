<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1004" height="684"><defs/><g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 0 0 L 984 0 L 984 664 L 0 664 L 0 0" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 0 0 L 0 22 L 127.97900390625 22 L 138.97900390625 11 L 138.97900390625 0 L 0 0"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 0 0 L 0 22 L 127.97900390625 22 L 138.97900390625 11 L 138.97900390625 0 L 0 0 L 0 0" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="70.97900390625" y="17.5">接收消息</text></g></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="5" y="17.5">interaction</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="71" y="47" width="71.736328125" height="39" opacity="0.2"/></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="64" y="40" width="71.736328125" height="39"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 64 40 L 135.736328125 40 L 135.736328125 79 L 64 79 L 64 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="80.3681640625" y="59.5">客户端</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 100.5 80 L 100.5 648" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="471" y="47" width="71.736328125" height="39" opacity="0.2"/></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="464" y="40" width="71.736328125" height="39"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 464 40 L 535.736328125 40 L 535.736328125 79 L 464 79 L 464 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="486.8681640625" y="59.5">网关</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 500.5 80 L 500.5 648" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="863" y="47" width="75.44091796875" height="39" opacity="0.2"/></g><g transform="translate(10,10) scale(1,1)"><rect fill="#82abff" stroke="none" x="856" y="40" width="75.44091796875" height="39"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#5656ff" d="M 856 40 L 931.44091796875 40 L 931.44091796875 79 L 856 79 L 856 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#d8e5ff" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="867" y="59.5">IM服务器</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 894.5 80 L 894.5 648" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 56 320 L 975 320 L 975 519 L 56 519 L 56 320" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 56 320 L 56 342 L 245.34814453125 342 L 256.34814453125 331 L 256.34814453125 320 L 56 320"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 56 320 L 56 342 L 245.34814453125 342 L 256.34814453125 331 L 256.34814453125 320 L 56 320 L 56 320" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="87.9599609375" y="337.5">异步推送N条消息到客户端</text></g></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="61" y="337.5">seq</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 100 122 L 493 122" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 482.83732514237585 126.20951775601598 L 493 122 L 482.83732514237585 117.79048224398402"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 482.83732514237585 126.20951775601598 L 493 122 L 482.83732514237585 117.79048224398402 L 482.83732514237585 126.20951775601598" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="274" y="119">1 : 登陆</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="493" y="122" width="13" height="46"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 122 L 506 122 L 506 168 L 493 168 L 493 122 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 506 128 L 887 128" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 876.8373251423759 132.209517756016 L 887 128 L 876.8373251423758 123.79048224398402"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 876.8373251423759 132.209517756016 L 887 128 L 876.8373251423758 123.79048224398402 L 876.8373251423759 132.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="674" y="125">2 : 登陆</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="887" y="128" width="13" height="28"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 128 L 900 128 L 900 156 L 887 156 L 887 128 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 151 L 506 151" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.1626748576241 146.790482243984 L 506 151 L 516.1626748576241 155.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="660" y="168">3 : 登陆成功</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 161 L 100 161" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 110.16267485762415 156.790482243984 L 100 161 L 110.16267485762415 165.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="260" y="178">4 : 登陆成功</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 894 184 L 506 184" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.1626748576241 179.790482243984 L 506 184 L 516.1626748576241 188.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="621" y="201">5 : 新消息通知Notify(SQID)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="493" y="184" width="13" height="28"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 184 L 506 184 L 506 212 L 493 212 L 493 184 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 200 L 106 200" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 116.16267485762415 195.790482243984 L 106 200 L 116.16267485762415 204.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="220" y="217">6 : 新消息通知Notify(SQID)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="93" y="200" width="13" height="28"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 93 200 L 106 200 L 106 228 L 93 228 L 93 200 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 100 248 L 493 248" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 482.83732514237585 252.209517756016 L 493 248 L 482.83732514237585 243.790482243984"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 482.83732514237585 252.209517756016 L 493 248 L 482.83732514237585 243.790482243984 L 482.83732514237585 252.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="194" y="245">7 : Sync(接收起始SQID，接收条数)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="493" y="248" width="13" height="48"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 248 L 506 248 L 506 296 L 493 296 L 493 248 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 506 256 L 887 256" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 876.8373251423759 260.209517756016 L 887 256 L 876.8373251423758 251.790482243984"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 876.8373251423759 260.209517756016 L 887 256 L 876.8373251423758 251.790482243984 L 876.8373251423759 260.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="594" y="253">8 : Sync(接收起始SQID，接收条数)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="887" y="256" width="13" height="40"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 256 L 900 256 L 900 296 L 887 296 L 887 256 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 272 L 506 272" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.1626748576241 267.790482243984 L 506 272 L 516.1626748576241 276.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="586" y="289">9 : 协商后的接收起始SQID，接收条数</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 280 L 100 280" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 110.16267485762415 275.790482243984 L 100 280 L 110.16267485762415 284.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="182" y="297">10 : 协商后的接收起始SQID，接收条数</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 894 360 L 506 360" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.1626748576241 355.790482243984 L 506 360 L 516.1626748576241 364.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="644" y="373">11 : 发送消息（1）</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ff2b2b" stroke="none" x="493" y="360" width="13" height="103"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#700000" d="M 493 360 L 506 360 L 506 463 L 493 463 L 493 360 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 376 L 106 376" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 116.16267485762415 371.790482243984 L 106 376 L 116.16267485762415 380.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="223" y="405">12 : 发送消息（1）</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="93" y="376" width="13" height="95"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 93 376 L 106 376 L 106 471 L 93 471 L 93 376 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 894 392 L 513 392" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 523.1626748576241 387.790482243984 L 513 392 L 523.1626748576241 396.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="646" y="409">13 : 发送消息（N）</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="500" y="392" width="13" height="28"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 500 392 L 513 392 L 513 420 L 500 420 L 500 392 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 500 408 L 113 408" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 123.16267485762415 403.790482243984 L 113 408 L 123.16267485762415 412.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="249" y="425">14 : 发送消息（N）</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="100" y="408" width="13" height="28"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 100 408 L 113 408 L 113 436 L 100 436 L 100 408 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 100 560 L 493 560" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 482.83732514237585 564.209517756016 L 493 560 L 482.83732514237585 555.790482243984"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 482.83732514237585 564.209517756016 L 493 560 L 482.83732514237585 555.790482243984 L 482.83732514237585 564.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="231" y="557">15 : Fin(结束推送过程)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="493" y="560" width="13" height="68"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 560 L 506 560 L 506 628 L 493 628 L 493 560 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 506 568 L 887 568" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 876.8373251423759 572.209517756016 L 887 568 L 876.8373251423758 563.790482243984"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 876.8373251423759 572.209517756016 L 887 568 L 876.8373251423758 563.790482243984 L 876.8373251423759 572.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="631" y="565">16 : Fin(结束推送过程)</text></g></g><g transform="translate(10,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="887" y="568" width="13" height="48"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 568 L 900 568 L 900 616 L 887 616 L 887 568 Z Z" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 887 584 L 506 584" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.1626748576241 579.790482243984 L 506 584 L 516.1626748576241 588.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="647" y="601">17 : Fin Success</text></g></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 493 600 L 100 600" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(10,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 110.16267485762415 595.790482243984 L 100 600 L 110.16267485762415 604.209517756016" stroke-miterlimit="10"/></g><g transform="translate(10,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="247" y="617">18 : Fin Success</text></g></g></g></svg>